!function(i,n){"function"==typeof define&&define.amd?define(["underscore","backbone"],function(e,t){return i.ZingChart=n(0,t)}):"object"==typeof exports?module.exports=n(require("underscore"),require("backbone")):i.ZingChart=n(i._,i.Backbone)}(this,function(e,t){var i={};return(i=void 0===i?{}:i).ZingChartModel=t.Model.extend({defaults:{width:640,height:480,json:{},data:[],charttype:"line",defaults:{},events:null}}),i.ZingChartView=t.View.extend({initialize:function(){this.listenTo(this.model,"change:json",this.updateChartJSON),this.listenTo(this.model,"change:data",this.updateChartData)},render:function(){var e=this.mergeJSONData();return zingchart.render({id:this.el.id,height:this.model.get("height"),width:this.model.get("width"),data:e,defaults:this.model.get("defaults")}),this},exec:function(e,t){return zingchart.exec(this.el.id,e,t)},bind:function(e,t){return zingchart.bind(this.el.id,e,t),this},mergeJSONData:function(){var e=this.model.get("json"),t=this.model.get("data");if((e="string"==typeof e?JSON.parse(e):e).graphset&&1===e.graphset.length&&(e=e.graphset[0]),t&&0!==t.length){e.series||(e.series=[]);for(var i=0;i<t.length;i++)e.series[i]?e.series[i].values=t[i]:e.series.push({values:t[i]})}return e.type||(e.type=this.model.get("charttype")),e},updateChartJSON:function(){var e=this.model.get("json");zingchart.exec(this.el.id,"setdata",{data:e})},updateChartData:function(){var e=this.model.get("data");zingchart.exec(this.el.id,"setseriesvalues",{values:e})}}),i});