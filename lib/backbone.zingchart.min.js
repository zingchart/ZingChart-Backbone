!function(a,b){"function"==typeof define&&define.amd?define(["underscore","backbone"],function(c,d){return a.ZingChart=b(c,d)}):"object"==typeof exports?module.exports=b(require("underscore"),require("backbone")):a.ZingChart=b(a._,a.Backbone)}(this,function(a,b){var c={};return"undefined"==typeof c&&(c={}),c.ZingChartModel=b.Model.extend({defaults:{width:640,height:480,json:{},data:[],charttype:"line",events:null}}),c.ZingChartView=b.View.extend({initialize:function(){this.listenTo(this.model,"change:json",this.updateChartJSON),this.listenTo(this.model,"change:data",this.updateChartData)},render:function(){var a=this.mergeJSONData();return zingchart.render({id:this.el.id,height:this.model.get("height"),width:this.model.get("width"),data:a}),this},exec:function(a,b){return zingchart.exec(this.el.id,a,b)},bind:function(a,b){return zingchart.bind(this.el.id,a,b),this},mergeJSONData:function(){var a=this.model.get("json"),b=this.model.get("data");if("string"==typeof a&&(a=JSON.parse(a)),a.graphset&&1===a.graphset.length&&(a=a.graphset[0]),b&&0!==b.length){a.series||(a.series=[]);for(var c=0;c<b.length;c++)a.series[c]?a.series[c].values=b[c]:a.series.push({values:b[c]})}return a.type||(a.type=this.model.get("charttype")),a},updateChartJSON:function(){var a=this.model.get("json");zingchart.exec(this.el.id,"setdata",{data:a})},updateChartData:function(){var a=this.model.get("data");zingchart.exec(this.el.id,"setseriesvalues",{values:a})}}),c});